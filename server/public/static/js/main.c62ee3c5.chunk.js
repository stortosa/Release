(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t){},40:function(e,t,n){e.exports=n(70)},45:function(e,t,n){},46:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(34),o=n.n(r),s=(n(45),n(12)),c=n(2),i=n(3),u=n(5),m=n(4),h=n(6),d=(n(46),n(16)),g=n(14),p=n(15),f=n.n(p);n(63).config();var E=function e(){var t=this;Object(c.a)(this,e),this.signup=function(e,n){return t.service.post("/signup",{username:e,password:n}).then(function(e){return e.data})},this.login=function(e,n){return t.service.post("/login",{username:e,password:n}).then(function(e){return e.data})},this.logout=function(){return t.service.get("/logout").then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/currentUser").then(function(e){return e.data})},this.userCalms=function(){return t.service.get("/userCalms",{withCredentials:!0}).then(function(e){return e.data})},this.userGoals=function(){return t.service.get("/userGoals").then(function(e){return e.data})},this.removeGoal=function(e){return t.service.delete("/removeGoal",{data:{goalId:e}}).then(function(e){return e.data})},this.service=f.a.create({baseURL:"\u200bhttps://name-of-your-app.herokuapp.com",withCredentials:!0})},v=n(8),b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.login(t,a).then(function(e){n.props.getUser(e),n.props.history.push("/profile")}).catch(function(){n.setState(Object(s.a)({},n.state,{error:!0}))})},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(g.a)({},a,l))},n.state={username:"",password:"",logged:!1,error:""},n.service=new E,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h3",null,"Please, login to our site"),l.a.createElement("div",{className:"loginBox"},l.a.createElement("h2",null,"Login"),l.a.createElement("form",{className:"",onSubmit:this.handleFormSubmit},l.a.createElement("fieldset",null,l.a.createElement("label",null,"Username:"),l.a.createElement("input",{type:"text",name:"username",onChange:function(t){return e.handleChange(t)}})),l.a.createElement("fieldset",null,l.a.createElement("label",null,"Password:"),l.a.createElement("input",{type:"password",name:"password",onChange:function(t){return e.handleChange(t)}})),l.a.createElement("input",{type:"submit",value:"Login"}))),l.a.createElement("h1",null,this.state.error?"Error":""),l.a.createElement("p",null,"Don't have account?",l.a.createElement(v.b,{to:"/signup"}," Signup")))}}]),t}(a.Component),O=Object(d.f)(b),j=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.signup(t,a).then(function(e){n.setState({username:"",password:""}),n.props.getUser(e)}).catch(function(e){n.setState({username:t,password:a,error:!0})})},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(g.a)({},a,l))},n.state={username:"",password:""},n.service=new E,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h2",null,"Signup"),l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("fieldset",null,l.a.createElement("label",null,"Username:"),l.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("fieldset",null,l.a.createElement("label",null,"Password:"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("input",{type:"submit",value:"Signup"})),l.a.createElement("h1",null,this.state.error?"Error":""),l.a.createElement("p",null,"Already have account?",l.a.createElement(v.b,{to:"/login"}," Login")))}}]),t}(a.Component),C=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(e){n.props.logout(e)},n.state={},n.services=new E,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"SONRIE"),l.a.createElement("h3",null,"Lista"),l.a.createElement("ul",null,l.a.createElement("li",null,"xxxxxxx          "),l.a.createElement("li",null,"yyyyyyy          "),l.a.createElement("li",null,"zzzzzzz          ")),l.a.createElement(v.b,{to:"/calm",className:""},"Calm"),l.a.createElement(v.b,{to:"/AddGoal",className:""},"Add Goal"),l.a.createElement(v.b,{to:"/fear",className:""},"Fear"),l.a.createElement(v.b,{to:"/addRecord",className:""},"Record"),l.a.createElement("button",{onClick:this.handleLogout},"Logout"))}}]),t}(a.Component),S=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleLogout=function(e){n.props.logout(e)},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.userInSession?l.a.createElement("nav",{className:"nav-style"},l.a.createElement("button",{onClick:this.handleLogout},"Logout"),l.a.createElement("h2",null,"Welcome, ",this.props.userInSession.username)):l.a.createElement("div",null,l.a.createElement("nav",{className:"nav-style"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(v.b,{to:"/signup"},"Signup")),l.a.createElement("li",null,l.a.createElement(v.b,{to:"/login"},"Login")))))}}]),t}(a.Component),w=n(18),y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=n.state.title,a=n.state.description,l=n.state.loggedInUser;f.a.post("http://localhost:5000/auth/addCalms",{title:t,description:a,user:l}).then(function(e){var t=Object(w.a)(n.state.allCalms);t.unshift(e.data),console.log(e),n.setState(Object(s.a)({},n.state,{allCalms:t}))}).catch(function(e){return console.log(e)})},n.getUserCalms=function(){n.service.userCalms().then(function(e){console.log(e),n.setState(Object(s.a)({},n.state,{allCalms:e}))})},n.onChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(g.a)({},a,l))},n.toggleForm=function(){n.state.isShowing?n.setState({isShowing:!1}):n.setState({isShowing:!0})},n.showAddCalmForm=function(){if(n.state.isShowing)return l.a.createElement("div",null,l.a.createElement("h3",null,"Add Calm"),l.a.createElement("form",{className:"",onSubmit:n.onSubmit},l.a.createElement("label",null,"Title:"),l.a.createElement("input",{type:"text",name:"title",value:n.state.title,onChange:function(e){return n.onChange(e)}}),l.a.createElement("label",null,"Description:"),l.a.createElement("textarea",{name:"description",value:n.state.description,onChange:function(e){return n.onChange(e)}}),l.a.createElement("input",{type:"submit",value:"Submit"})))},n.state={title:"",description:"",isShowing:!1,loggedInUser:null,allCalms:[]},n.service=new E,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}),this.getUserCalms()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h1",null,"Welcome to Calm"),l.a.createElement("hr",null),l.a.createElement("button",{onClick:function(){return e.toggleForm()}}," Add Calm "),this.showAddCalmForm(),l.a.createElement("ol",{className:"calms-list"},this.state.allCalms.map(function(e){return l.a.createElement("li",{key:e._id},e.title,"--",e.description)})),l.a.createElement("h1",null,"DON\xb4T FORGET IT"))}}]),t}(a.Component),U=n(37),k=n.n(U),G=(a.Component,function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.title,a=n.state.description,l=n.state.loggedInUser;f.a.post("http://localhost:5000/auth/addGoals",{title:t,description:a,user:l}).then(function(e){var t=Object(w.a)(n.state.allGoals);t.unshift(e.data),console.log(e),n.setState(Object(s.a)({},n.state,{allGoals:t}))}).catch(function(e){return console.log(e)}),n.getUserGoals()},n.getUserGoals=function(){n.service.userGoals().then(function(e){console.log(e),n.setState(Object(s.a)({},n.state,{allGoals:e}))})},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(g.a)({},a,l))},n.toggleForm=function(){n.state.isShowing?n.setState({isShowing:!1}):n.setState({isShowing:!0})},n.deleteGoal=function(e,t){e.preventDefault(),n.service.removeGoal(t).then(function(e){}),n.getUserGoals()},n.showAddGoalForm=function(){if(n.state.isShowing)return l.a.createElement("div",null,l.a.createElement("h3",null,"Add Goal"),l.a.createElement("form",{onSubmit:n.handleFormSubmit},l.a.createElement("label",null,"Title:"),l.a.createElement("input",{type:"text",name:"title",value:n.state.title,onChange:function(e){return n.handleChange(e)}}),l.a.createElement("label",null,"Description:"),l.a.createElement("textarea",{name:"description",value:n.state.description,onChange:function(e){return n.handleChange(e)}}),l.a.createElement("input",{type:"submit",value:"Submit"})))},n.state={title:"",description:"",isShowing:!1,loggedInUser:null,allGoals:[]},n.service=new E,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}),this.getUserGoals()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("hr",null),l.a.createElement("button",{onClick:function(){return e.toggleForm()}}," Add Goal "),this.showAddGoalForm(),l.a.createElement("ol",{className:"goals-list"},this.state.allGoals.map(function(t){return l.a.createElement("li",{key:t._id},t.title,"--",t.description,l.a.createElement("button",{onClick:function(n){return e.deleteGoal(n,t._id)}}," Delete"))})))}}]),t}(a.Component)),I=n(39),x=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={status:null},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"controlAudio",value:function(e){this.setState({status:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.status,a={audioType:"audio/wav",status:n,audioSrc:t.audioSrc,startCallback:function(e){console.log("succ start",e)},pauseCallback:function(e){console.log("succ pause",e)},stopCallback:function(t){e.setState({audioSrc:window.URL.createObjectURL(t)}),console.log("succ stop",t)}};return l.a.createElement(I.a,a,l.a.createElement("div",{className:"btn-box"},"recording"!==n&&l.a.createElement("i",{className:"iconfont icon-start",title:"\u5f00\u59cb",onClick:function(){return e.controlAudio("recording")}}),"recording"===n&&l.a.createElement("i",{className:"iconfont icon-pause",title:"\u6682\u505c",onClick:function(){return e.controlAudio("paused")}}),l.a.createElement("i",{className:"iconfont icon-stop",title:"\u505c\u6b62",onClick:function(){return e.controlAudio("inactive")}})))}}]),t}(a.Component),N=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).getTheUser=function(e){n.setState(Object(s.a)({},n.state,{loggedInUser:e}))},n.logout=function(e){e.preventDefault(),n.service.logout().then(function(){n.props.history.push("/login"),n.setState(Object(s.a)({},n.state,{loggedInUser:null}))})},n.state={loggedInUser:null},n.service=new E,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.loggedInUser?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement(S,{userInSession:this.state.loggedInUser,logout:this.logout}),l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/profile",render:function(){return l.a.createElement(C,Object.assign({logout:e.logout},e.state.loggedInUser))}}),l.a.createElement(d.a,{exact:!0,path:"/calm",render:function(){return l.a.createElement(y,Object.assign({logout:e.logout},e.state.loggedInUser))}}),l.a.createElement(d.a,{exact:!0,paht:"/addGoal",render:function(){return l.a.createElement(G,Object.assign({logout:e.logout},e.state.loggedInUser))}}),l.a.createElement(d.a,{exact:!0,paht:"/demo",render:function(){return l.a.createElement(x,Object.assign({logout:e.logout},e.state.loggedInUser))}}))))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement(S,{userInSession:this.state.loggedInUser,logout:this.logout}),l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/signup",render:function(){return l.a.createElement(j,{getUser:e.getTheUser})}}),l.a.createElement(d.a,{exact:!0,path:"/login",render:function(){return l.a.createElement(O,{getUser:e.getTheUser})}})))))}}]),t}(a.Component),A=Object(d.f)(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(v.a,null,l.a.createElement(A,{router:v.a})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.c62ee3c5.chunk.js.map