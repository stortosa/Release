(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t){},40:function(e,t,n){e.exports=n(70)},45:function(e,t,n){},46:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(34),o=n.n(r),c=(n(45),n(11)),s=n(2),i=n(3),u=n(5),m=n(4),h=n(6),d=(n(46),n(15)),g=n(14),f=n(16),p=n.n(f);n(63).config();var v=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e,n){return t.service.post("/signup",{username:e,password:n}).then(function(e){return e.data})},this.login=function(e,n){return t.service.post("/login",{username:e,password:n}).then(function(e){return e.data})},this.logout=function(){return t.service.get("/logout").then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/currentUser").then(function(e){return e.data})},this.addCalms=function(e,n,a){return t.service.post("/addCalms",{title:e,description:n,user:a}).then(function(e){return e.data})},this.userCalms=function(){return t.service.get("/userCalms").then(function(e){return e.data})},this.userGoals=function(){return t.service.get("/userGoals").then(function(e){return e.data})},this.removeGoal=function(e){return t.service.delete("/removeGoal",{data:{goalId:e}}).then(function(e){return e.data})},this.addGoals=function(e,n,a){return t.service.post("/addGoals",{title:e,description:n,user:a}).then(function(e){return e.data})},this.service=p.a.create({baseURL:"".concat("https://apprelease.herokuapp.com/","/auth"),withCredentials:!0})},E=n(8),b=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.login(t,a).then(function(e){n.props.getUser(e),n.props.history.push("/profile")}).catch(function(){n.setState(Object(c.a)({},n.state,{error:!0}))})},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(g.a)({},a,l))},n.state={username:"",password:"",logged:!1,error:""},n.service=new v,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h3",null,"Please, login to our site"),l.a.createElement("div",{className:"loginBox"},l.a.createElement("h2",null,"Login"),l.a.createElement("form",{className:"",onSubmit:this.handleFormSubmit},l.a.createElement("fieldset",null,l.a.createElement("label",null,"Username:"),l.a.createElement("input",{type:"text",name:"username",onChange:function(t){return e.handleChange(t)}})),l.a.createElement("fieldset",null,l.a.createElement("label",null,"Password:"),l.a.createElement("input",{type:"password",name:"password",onChange:function(t){return e.handleChange(t)}})),l.a.createElement("input",{type:"submit",value:"Login"}))),l.a.createElement("h1",null,this.state.error?"Error":""),l.a.createElement("p",null,"Don't have account?",l.a.createElement(E.b,{to:"/signup"}," Signup")))}}]),t}(a.Component),O=Object(d.f)(b),C=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.signup(t,a).then(function(e){n.setState({username:"",password:""}),n.props.getUser(e)}).catch(function(e){n.setState({username:t,password:a,error:!0})})},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(g.a)({},a,l))},n.state={username:"",password:""},n.service=new v,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h2",null,"Signup"),l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("fieldset",null,l.a.createElement("label",null,"Username:"),l.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("fieldset",null,l.a.createElement("label",null,"Password:"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("input",{type:"submit",value:"Signup"})),l.a.createElement("h1",null,this.state.error?"Error":""),l.a.createElement("p",null,"Already have account?",l.a.createElement(E.b,{to:"/login"}," Login")))}}]),t}(a.Component),j=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(e){n.props.logout(e)},n.state={},n.services=new v,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"SONRIE"),l.a.createElement("h3",null,"Lista"),l.a.createElement("ul",null,l.a.createElement("li",null,"xxxxxxx          "),l.a.createElement("li",null,"yyyyyyy          "),l.a.createElement("li",null,"zzzzzzz          ")),l.a.createElement(E.b,{to:"/calm",className:""},"Calm"),l.a.createElement(E.b,{to:"/AddGoal",className:""},"Add Goal"),l.a.createElement(E.b,{to:"/fear",className:""},"Fear"),l.a.createElement(E.b,{to:"/Demo",className:""},"Record"),l.a.createElement("button",{onClick:this.handleLogout},"Logout"))}}]),t}(a.Component),S=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleLogout=function(e){n.props.logout(e)},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.userInSession?l.a.createElement("nav",{className:"nav-style"},l.a.createElement("button",{onClick:this.handleLogout},"Logout"),l.a.createElement("h2",null,"Welcome, ",this.props.userInSession.username)):l.a.createElement("div",null,l.a.createElement("nav",{className:"nav-style"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(E.b,{to:"/signup"},"Signup")),l.a.createElement("li",null,l.a.createElement(E.b,{to:"/login"},"Login")))))}}]),t}(a.Component),w=n(18),y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=n.state.title,a=n.state.description,l=n.state.loggedInUser;n.service.addCalms(t,a,l).then(function(e){var t=Object(w.a)(n.state.allCalms);t.unshift(e),console.log(e),n.setState(Object(c.a)({},n.state,{allCalms:t}))}).catch(function(e){return console.log(e)})},n.getUserCalms=function(){n.service.userCalms().then(function(e){console.log(e),n.setState(Object(c.a)({},n.state,{allCalms:e}))})},n.onChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(g.a)({},a,l))},n.toggleForm=function(){n.state.isShowing?n.setState({isShowing:!1}):n.setState({isShowing:!0})},n.showAddCalmForm=function(){if(n.state.isShowing)return l.a.createElement("div",null,l.a.createElement("h3",null,"Add Calm"),l.a.createElement("form",{className:"",onSubmit:n.onSubmit},l.a.createElement("label",null,"Title:"),l.a.createElement("input",{type:"text",name:"title",value:n.state.title,onChange:function(e){return n.onChange(e)}}),l.a.createElement("label",null,"Description:"),l.a.createElement("textarea",{name:"description",value:n.state.description,onChange:function(e){return n.onChange(e)}}),l.a.createElement("input",{type:"submit",value:"Submit"})))},n.state={title:"",description:"",isShowing:!1,loggedInUser:null,allCalms:[]},n.service=new v,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}),this.getUserCalms()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h1",null,"Welcome to Calm"),l.a.createElement("hr",null),l.a.createElement("button",{onClick:function(){return e.toggleForm()}}," Add Calm "),this.showAddCalmForm(),l.a.createElement("ol",{className:"calms-list"},this.state.allCalms.map(function(e){return l.a.createElement("li",{key:e._id},e.title,"--",e.description)})),l.a.createElement("h1",null,"DON\xb4T FORGET IT"))}}]),t}(a.Component),U=n(37),k=n.n(U),G=(a.Component,function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.title,a=n.state.description,l=n.state.loggedInUser;n.service.addGoals(t,a,l).then(function(e){var t=Object(w.a)(n.state.allGoals);t.unshift(e),console.log(e),n.setState(Object(c.a)({},n.state,{allGoals:t}))}).catch(function(e){return console.log(e)}),n.getUserGoals()},n.getUserGoals=function(){n.service.userGoals().then(function(e){console.log(e),n.setState(Object(c.a)({},n.state,{allGoals:e}))})},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(g.a)({},a,l))},n.toggleForm=function(){n.state.isShowing?n.setState({isShowing:!1}):n.setState({isShowing:!0})},n.deleteGoal=function(e,t){e.preventDefault(),n.service.removeGoal(t).then(function(e){}),n.getUserGoals()},n.showAddGoalForm=function(){if(n.state.isShowing)return l.a.createElement("div",null,l.a.createElement("h3",null,"Add Goal"),l.a.createElement("form",{onSubmit:n.handleFormSubmit},l.a.createElement("label",null,"Title:"),l.a.createElement("input",{type:"text",name:"title",value:n.state.title,onChange:function(e){return n.handleChange(e)}}),l.a.createElement("label",null,"Description:"),l.a.createElement("textarea",{name:"description",value:n.state.description,onChange:function(e){return n.handleChange(e)}}),l.a.createElement("input",{type:"submit",value:"Submit"})))},n.state={title:"",description:"",isShowing:!1,loggedInUser:null,allGoals:[]},n.service=new v,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}),this.getUserGoals()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("hr",null),l.a.createElement("button",{onClick:function(){return e.toggleForm()}}," Add Goal "),this.showAddGoalForm(),l.a.createElement("ol",{className:"goals-list"},this.state.allGoals.map(function(t,n){return l.a.createElement("li",{key:n},t.title,"--",t.description,l.a.createElement("button",{onClick:function(n){return e.deleteGoal(n,t._id)}}," Delete"))})))}}]),t}(a.Component)),I=n(39),x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={status:null},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"controlAudio",value:function(e){this.setState({status:e})}},{key:"changeScheme",value:function(e){this.setState({audioType:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state,n=t.status,a={audioType:"audio/wav",status:n,audioSrc:t.audioSrc,timeslice:1e3,startCallback:function(e){console.log("succ start",e)},pauseCallback:function(e){console.log("succ pause",e)},stopCallback:function(t){e.setState({audioSrc:window.URL.createObjectURL(t)}),console.log("succ stop",t),console.log(e.state.audioSrc,"COgelo de AKI")},onRecordCallback:function(e){console.log("recording",e)},errorCallback:function(e){console.log("error",e)}};return l.a.createElement("div",null,l.a.createElement(I.a,a,l.a.createElement("div",{className:"btn-box"},"recording"!==n&&l.a.createElement("button",{className:"iconfont icon-start",title:"\u5f00\u59cb",onClick:function(){return e.controlAudio("recording")}}),"recording"===n&&l.a.createElement("button",{className:"iconfont icon-pause",title:"\u6682\u505c",onClick:function(){return e.controlAudio("paused")}}),l.a.createElement("button",{className:"iconfont icon-stop",title:"\u505c\u6b62",onClick:function(){return e.controlAudio("inactive")}}))),l.a.createElement("p",null,"\u9009\u62e9\u8f93\u51fa\u683c\u5f0f"),l.a.createElement("select",{name:"",id:"",onChange:function(t){return e.changeScheme(t)},value:"audioType"},l.a.createElement("option",{value:"audio/webm"},"audio/webm\uff08default\uff09"),l.a.createElement("option",{value:"audio/wav"},"audio/wav"),l.a.createElement("option",{value:"audio/mp3"},"audio/mp3")))}}]),t}(a.Component),A=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).getTheUser=function(e){n.setState(Object(c.a)({},n.state,{loggedInUser:e}))},n.logout=function(e){e.preventDefault(),n.service.logout().then(function(){n.props.history.push("/login"),n.setState(Object(c.a)({},n.state,{loggedInUser:null}))})},n.fetchUser=function(){n.service.loggedin().then(function(e){""!=e&&n.setState(Object(c.a)({},n.state,{loggedInUser:e}))})},n.componentDidMount=function(){n.fetchUser()},n.state={loggedInUser:null},n.service=new v,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.loggedInUser?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement(S,{userInSession:this.state.loggedInUser,logout:this.logout}),l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/profile",render:function(){return l.a.createElement(j,Object.assign({logout:e.logout},e.state.loggedInUser))}}),l.a.createElement(d.a,{exact:!0,path:"/calm",render:function(){return l.a.createElement(y,Object.assign({logout:e.logout},e.state.loggedInUser))}}),l.a.createElement(d.a,{exact:!0,path:"/addGoal",render:function(){return l.a.createElement(G,Object.assign({logout:e.logout},e.state.loggedInUser))}}),l.a.createElement(d.a,{exact:!0,path:"/demo",render:function(){return l.a.createElement(x,Object.assign({logout:e.logout},e.state.loggedInUser))}}))))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement(S,{userInSession:this.state.loggedInUser,logout:this.logout}),l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/signup",render:function(){return l.a.createElement(C,{getUser:e.getTheUser})}}),l.a.createElement(d.a,{exact:!0,path:"/login",render:function(){return l.a.createElement(O,{getUser:e.getTheUser})}})))))}}]),t}(a.Component),N=Object(d.f)(A);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(E.a,null,l.a.createElement(N,{router:E.a})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.3899aa19.chunk.js.map